(this["webpackJsonpreact-redux-saga-crud"]=this["webpackJsonpreact-redux-saga-crud"]||[]).push([[0],{84:function(e,t,n){},85:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(14),o=n.n(r),s=n(41),i=(n(84),n(47)),u=(n(85),n(17)),l=n(9),d=n(3),j=n(6),p=["layout","component"],b=function(e){var t=e.layout,n=e.component,c=Object(d.a)(e,p);return Object(j.jsx)(u.a,Object(l.a)(Object(l.a)({},c),{},{render:function(e){return Object(j.jsx)(t,{children:Object(j.jsx)(n,Object(l.a)({},e))})}}))},O=n(136),f=n(139),x=n(141),h=n(94),v=Object(O.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},main:{margin:e.spacing(2)}}})),m=function(){var e=v();return Object(j.jsx)(f.a,{position:"static",children:Object(j.jsx)(x.a,{children:Object(j.jsx)(h.a,{variant:"h6",className:e.title,children:"Blog Posts"})})})};function g(e){var t=v();return Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsx)(m,{}),Object(j.jsx)("main",{className:t.main,children:e.children})]})}var y=n(26),w=n(148),P=n(152),E="GET_POSTS",S="GOT_POSTS",_="ADD_POST",T="ADDED_POST",k="UPDATE_POST",D="UPDATED_POST",C="DELETE_POST",N="DELETED_POST",A=n(142),I=n(144),U=n(143),X=n(150),B=Object(O.a)((function(e){return{root:{width:400,margin:e.spacing(2,0)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:18,fontWeight:"bold"},content:{fontSize:16}}})),L=function(e){var t=e.post,n=e.handleDelete,c=e.handleOpen,a=B();return Object(j.jsxs)(A.a,{className:a.root,children:[Object(j.jsxs)(U.a,{children:[Object(j.jsx)(h.a,{className:a.title,color:"primary",gutterBottom:!0,children:t.id}),Object(j.jsx)(h.a,{className:a.content,color:"textSecondary",gutterBottom:!0,children:t.text})]}),Object(j.jsxs)(I.a,{children:[Object(j.jsx)(X.a,{onClick:function(){return c(t)},size:"small",children:"Edit"})," ",Object(j.jsx)(X.a,{onClick:function(){return n(t.id)},size:"small",children:"Delete"})]})]})},z=n(149),G=Object(O.a)({root:{width:400,display:"flex",flexDirection:"column",justifyContent:"center"}}),R=function(e){var t=G(),n=e.state,c=e.handleAddPost,a=e.handleStateChange;return Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsx)(z.a,{fullWidth:!0,value:n.text||"",onChange:function(e){return a(Object(l.a)(Object(l.a)({},n),{},{text:e.target.value}))}}),Object(j.jsx)("br",{}),Object(j.jsx)(X.a,{disabled:""===n.text,onClick:c,children:"Add"})]})},W=n(153),F=n(147),V=n(146),J=n(145),M=Object(O.a)((function(e){return{root:{minWidth:500}}})),q=function(e){var t=M(),n=e.openDialog,c=e.handleClose,a=e.handleSave,r=e.handlePostChange;return Object(j.jsx)("div",{children:Object(j.jsxs)(W.a,{classes:{paper:t.root},open:n.open,onClose:c,children:[Object(j.jsx)(J.a,{children:"Update post"}),Object(j.jsx)(V.a,{children:Object(j.jsx)(z.a,{value:n.post.text,onChange:function(e){return r(e.target.value)},autoFocus:!0,margin:"dense",id:"name",label:"Post",type:"text",fullWidth:!0})}),Object(j.jsxs)(F.a,{children:[Object(j.jsx)(X.a,{onClick:c,color:"primary",children:"Cancel"}),Object(j.jsx)(X.a,{disabled:""===n.post.text,onClick:a,color:"primary",children:"Save"})]})]})})},H=Object(s.b)((function(e){return console.log(e),{posts:e.getPosts.posts,addedPost:e.addPost.post,deletedPost:e.deletePost.post,updatedPost:e.updatePost.post}}),(function(e){return{actions:{getPosts:function(){e({type:E})},addPost:function(t){e({type:_,payload:t})},deletePost:function(t){e({type:C,payload:t})},updatePost:function(t){e({type:k,payload:t})}}}}))((function(e){var t=e.posts,n=e.addedPost,a=e.deletedPost,r=e.updatedPost,o=e.actions,s=Object(c.useState)({text:""}),i=Object(y.a)(s,2),u=i[0],d=i[1],p=Object(c.useState)({open:!1,post:{}}),b=Object(y.a)(p,2),O=b[0],f=b[1],x=function(e){f({open:!0,post:e})},h=function(e){o.deletePost(e)},v=function(){d({text:""})};return Object(c.useEffect)((function(){o.getPosts()}),[]),Object(c.useEffect)((function(){(n||r||a)&&o.getPosts()}),[n,r,a]),Object(j.jsxs)(w.a,{container:!0,direction:"column",alignItems:"center",justify:"center",children:[Object(j.jsxs)(w.a,{item:!0,xs:12,children:[Object(j.jsx)(R,{state:u,handleAddPost:function(){var e=Object(P.a)();console.log(e);var t={id:e,text:u.text};o.addPost(t),v()},handleStateChange:d}),t&&t.map((function(e){return Object(j.jsx)(L,{post:e,handleOpen:x,handleDelete:h},e.id)}))]}),Object(j.jsx)(q,{openDialog:O,handleClose:function(){f(Object(l.a)(Object(l.a)({},O),{},{open:!1}))},handleSave:function(){o.updatePost(O.post),f(Object(l.a)(Object(l.a)({},O),{},{open:!1}))},handlePostChange:function(e){f(Object(l.a)(Object(l.a)({},O),{},{post:Object(l.a)(Object(l.a)({},O.post),{},{text:e})}))}})]})})),K=function(){return Object(j.jsx)(u.c,{children:Object(j.jsx)(b,{component:H,exact:!0,layout:g,path:"/"})})};var Q=function(){return Object(j.jsx)(i.a,{children:Object(j.jsx)(K,{})})},Y=n(28),Z=n(68),$={post:null},ee={posts:[]},te={post:null},ne={post:null},ce=Object(Y.b)({addPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;return t.type===T?Object(l.a)(Object(l.a)({},e),{},{post:t.payload}):Object(l.a)({},e)},getPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;return t.type===S?Object(l.a)(Object(l.a)({},e),{},{posts:t.payload}):Object(l.a)({},e)},updatePost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;return t.type===D?Object(l.a)(Object(l.a)({},e),{},{post:t.payload}):Object(l.a)({},e)},deletePost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;return t.type===N?Object(l.a)(Object(l.a)({},e),{},{post:t.payload}):Object(l.a)({},e)}}),ae=n(12),re=n(21),oe=n(45),se=["id"],ie=[{id:Object(P.a)(),text:"This is my first post. I will upload technical contents in my upcoming posts. See you!"}],ue={add:function(){var e=Object(oe.a)(Object(ae.a)().mark((function e(t){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Promise((function(e){ie.push(t),setTimeout(e(t),1e3)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(oe.a)(Object(ae.a)().mark((function e(t){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=t.id,c=(Object(d.a)(t,se),ie.findIndex((function(e){return e.id===n})));c>-1?ie[c]=Object(l.a)({},t):new Error("Failed to update."),setTimeout(e(t),1e3)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(oe.a)(Object(ae.a)().mark((function e(t){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=ie.findIndex((function(e){return e.id===t}));n>-1?ie.splice(n,1):new Error("Failed to delete."),setTimeout(e({affected:1}),1e3)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(oe.a)(Object(ae.a)().mark((function e(){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e(ie),2e3)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},le=Object(ae.a)().mark(je),de=Object(ae.a)().mark(pe);function je(){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.c)(E,pe);case 2:case"end":return e.stop()}}),le)}function pe(){var e;return Object(ae.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(re.a)(ue.getAll);case 3:return e=t.sent,t.next=6,Object(re.b)({type:S,payload:e});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),de,null,[[0,8]])}var be=Object(ae.a)().mark(fe),Oe=Object(ae.a)().mark(xe);function fe(){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.c)(_,xe);case 2:case"end":return e.stop()}}),be)}function xe(e){var t;return Object(ae.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.prev=1,n.next=4,Object(re.a)(ue.add,e.payload);case 4:return t=n.sent,n.next=7,Object(re.b)({type:T,payload:t});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),Oe,null,[[1,9]])}var he=Object(ae.a)().mark(me),ve=Object(ae.a)().mark(ge);function me(){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.c)(C,ge);case 2:case"end":return e.stop()}}),he)}function ge(e){var t;return Object(ae.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.prev=1,n.next=4,Object(re.a)(ue.delete,e.payload);case 4:return t=n.sent,n.next=7,Object(re.b)({type:N,payload:t});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),ve,null,[[1,9]])}var ye=Object(ae.a)().mark(Pe),we=Object(ae.a)().mark(Ee);function Pe(){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.c)(k,Ee);case 2:case"end":return e.stop()}}),ye)}function Ee(e){var t;return Object(ae.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.prev=1,n.next=4,Object(re.a)(ue.update,e.payload);case 4:return t=n.sent,n.next=7,Object(re.b)({type:D,payload:t});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),we,null,[[1,9]])}var Se=Object(Z.a)(),_e=(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),window.__REDUX_DEVTOOLS_EXTENSION__,Object(Y.a)(Se)),Te=Object(Y.d)(ce,_e);Se.run(je),Se.run(fe),Se.run(Pe),Se.run(me),o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(s.a,{store:Te,children:Object(j.jsx)(Q,{})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.628a34f1.chunk.js.map